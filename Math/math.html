<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math</title>
    <script src="jquery-2.1.1.min.js"></script>
    <style>
    body {
        position: relative;
        padding: 20px;
        /*width: 375px;*/
        height: 100vh;
        /*border: 1px solid #eee;*/
        margin: 20px auto;
        font-size: 14px;
        overflow-x: hidden;
        box-sizing: border-box;
        background: linear-gradient(153.12deg,
            #0052ff 0%,
            #402be6 37.53%,
            #6313de 75.07%);
    }

    * {
        box-sizing: border-box;
    }

    .caption {
        padding-top: 80px;
        color: #fff;
    }

    .caption .heading-1 {
        margin-bottom: 5px;
        font-size: 24px;
    }

    .caption .heading-2 {
        margin-bottom: 10px;
        font-size: 40px;
        font-weight: bold;
    }

    .caption .heading-3 {
        font-size: 16px;
    }

    .room,
    .end,
    .wrong {
        display: none;
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        padding: 20px 40px 40px;
        border-radius: 20px 20px 0 0;
        background: #fff;
        text-align: center;
    }

    .room.active,
    .end.active,
    .wrong.active {
        display: block;
    }

    .room .heading {
        font-size: 16px;
        margin-bottom: 20px;
    }

    .room .heading span {
        padding: 10px;
    }

    .room .topic {
        margin-bottom: 30px;
        color: #402be6;
        font-size: 56px;
        font-weight: bold;
    }

    .room .topic span {
        padding: 0 10px;
    }

    .room .answer button {
        height: 56px;
        width: 100%;
        border-radius: 28px;
        border: 1px solid #aaa;
        background: transparent;
        font-size: 24px;
        line-height: 56px;
    }

    .room .answer button:hover {
        background: #402be6;
        color: #fff;
    }

    .room .answer button+button {
        margin-top: 10px;
    }

    .end .total-score {
        padding: 100px 0;
        color: #402be6;
        font-size: 56px;
        font-weight: bold;
    }

    .end button,
    .wrong button {
        width: 100%;
        height: 56px;
        line-height: 56px;
        border: none;
        background: linear-gradient(90deg, #0098f8 0%, #7800d7 100%);
        border-radius: 40px;
        color: #fff;
        font-size: 24px;
    }

    .wrong .heading {
        padding: 40px 0;
        color: #402be6;
        font-size: 128px;
        opacity: .5;
    }

    .wrong p {
        font-size: 24px;
    }

    .wrong .answer {
        padding: 10px 0 20px;
        color: #402be6;
        font-size: 56px;
        font-weight: bold;
    }

    .wrong .answer span {
        padding: 0 10px;
    }
    </style>
</head>

<body>
    <div class="caption">
        <p class="heading-1">歐巴數學小考堂</p>
        <p class="heading-2">99乘法練習考慮</p>
        <p class="heading-3">題目共有 10 題，請從 A, B, C, D 中選出正確答案</p>
    </div>
    <div class="room active">
        <div class="heading">第<span>1</span>題</div>
        <div class="topic"><span id="q1">-</span>x<span id="q2">-</span></div>
        <div class="answer">
            <button><span>-</span></button>
            <button><span>-</span></button>
            <button><span>-</span></button>
            <button><span>-</span></button>
        </div>
    </div>
    <div class="end">
        <div class="total-score"><span>87</span>分</div>
        <button>再考一次</button>
    </div>
    <div class="wrong">
        <div class="heading">錯</div>
        <p>正確答案是</p>
        <p class="answer"> <span id="wq1">-</span>x<span id="wq2">-</span>=<span id="wqa">-</span></p>
        <button>下一題</button>
    </div>
</body>
<script>
$(function() {
    var score = 0;
    var queNum = 1;
    var queTotalNum = 10;
    var scorePoint = 100 / queTotalNum;
    getTopic(queNum);
    $(".answer button").click(function() {
        if (ansNum == $(this).index()) {
            score = score + scorePoint;
        } else {
            $(".room").removeClass("active");
            $(".wrong").addClass("active");
            $("#wq1").text(q1);
            $("#wq2").text(q2);
            $("#wqa").text(ans);
        }
        queNum = queNum + 1;
        if (queNum <= queTotalNum) {
            getTopic(queNum);
        } else {
            $(".end .total-score span").text(score);
            $(".room").removeClass("active");
            $(".end").addClass("active");
        }
    });
    $(".end button").click(function() {
        $(".room").addClass("active");
        $(".end").removeClass("active");
        queNum = 1;
        score = 0;
        getTopic(queNum);
    });
    $(".wrong button").click(function() {
        $(".room").addClass("active");
        $(".wrong").removeClass("active");
    });
});

// reset topic
function getTopic(queNum) {
    $(".room .heading span").text(queNum);
    q1 = getRandom(9);
    q2 = getRandom(9);
    $("#q1").text(q1);
    $("#q2").text(q2);
    ans = q1 * q2;
    ansNum = getRandom(4) - 1;
    $(".answer button").eq(ansNum).text(ans);
    for (i = 0; i < 4; i++) {
        if (i != ansNum) {
            $(".answer button").eq(i).text(getRandom(81));
        }
    }
}

function getRandom(x) {
    return Math.floor(Math.random() * x) + 1;
}
</script>

</html>